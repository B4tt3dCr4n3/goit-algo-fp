"""
Завдання 2. Рекурсія. Створення фрактала “дерево Піфагора” за допомогою рекурсії

Необхідно написати програму на Python, яка використовує рекурсію для створення 
фрактала “дерево Піфагора”. Програма має візуалізувати фрактал “дерево Піфагора”, 
і користувач повинен мати можливість вказати рівень рекурсії.
"""

import turtle
import math

def pythagoras_tree(t, order, size):
    """ Малює дерево Піфагора заданого порядку рекурсії """
    # Базовий випадок: якщо порядок рекурсії дорівнює 0, завершуємо виконання
    if order == 0:
        return
    # Малюємо основний відрізок (стовбур дерева)
    t.forward(size)  
    # Повертаємо ліворуч на 45 градусів для малювання лівої гілки
    t.left(45)
    # Рекурсивно малюємо ліву гілку. Розмір зменшується в sqrt(2) разів
    pythagoras_tree(t, order-1, size/math.sqrt(2))
    # Повертаємо праворуч на 90 градусів для малювання правої гілки
    t.right(90)
    # Рекурсивно малюємо праву гілку
    pythagoras_tree(t, order-1, size/math.sqrt(2))
    # Повертаємося в початкове положення
    t.left(45)
    t.backward(size)

def draw_pythagoras_tree(order):
    """ Малює дерево Піфагора заданого порядку рекурсії """
    # Налаштування вікна
    window = turtle.Screen()
    window.setup(800, 600)
    window.title("Дерево Піфагора")
    window.bgcolor("white")

    # Налаштування черепашки
    t = turtle.Turtle()
    t.speed(0)  # Найшвидша швидкість
    t.penup()
    t.goto(0, -200)  # Початкова позиція
    t.left(90)  # Поворот вгору
    t.pendown()

    # Малюємо дерево Піфагора
    pythagoras_tree(t, order, 100)

    # Утримуємо вікно відкритим
    window.mainloop()

# Запитуємо користувача про рівень рекурсії
level = int(input("Введіть рівень рекурсії для дерева Піфагора (рекомендовано 1-10): "))
draw_pythagoras_tree(level)
